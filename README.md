# ReeUtil - Frontend Only

## ‚ö†Ô∏è Nota Importante

Este proyecto contiene **SOLO EL FRONTEND**. El backend ha sido eliminado para que puedas implementar tu propia soluci√≥n de backend.

El frontend est√° completamente funcional y listo para conectarse a cualquier API REST que implementes.

## üìã Tabla de Contenidos

- [Caracter√≠sticas](#caracter√≠sticas)
- [Arquitectura](#arquitectura)
- [Tecnolog√≠as](#tecnolog√≠as)
- [Instalaci√≥n](#instalaci√≥n)
- [Configuraci√≥n](#configuraci√≥n)
- [Uso](#uso)
- [API Documentation](#api-documentation)
- [Estructura del Proyecto](#estructura-del-proyecto)
- [Contribuci√≥n](#contribuci√≥n)

## ‚ú® Caracter√≠sticas

### Funcionalidades Principales
- üîê **Sistema de Autenticaci√≥n**: Login/Registro con JWT, roles m√∫ltiples y permisos granulares
- üõí **Marketplace**: Compra y venta de dispositivos electr√≥nicos entre usuarios
- üîß **Reparaciones**: Solicitud y gesti√≥n de reparaciones de dispositivos
- ‚ôªÔ∏è **Reciclaje**: Sistema de reciclaje con compensaci√≥n econ√≥mica
- ‚≠ê **Rese√±as**: Sistema de rese√±as y calificaciones para vendedores y servicios
- üì± **Gesti√≥n de Cat√°logo**: CRUD completo de dispositivos electr√≥nicos
- üìã **Sistema de Cotizaciones**: Evaluaci√≥n y cotizaci√≥n de dispositivos
- üìä **Inventario**: Gesti√≥n de dispositivos listos para reciclar/vender
- üìú **Reglas de Evaluaci√≥n**: Configuraci√≥n de criterios por tipo de dispositivo
- üë• **Gesti√≥n de Usuarios**: Administraci√≥n de usuarios, empleados y permisos
- üîî **Notificaciones**: Sistema de notificaciones en tiempo real
- üí∞ **Simulaci√≥n de Pagos**: Simulaci√≥n de transacciones econ√≥micas

### Mejoras Implementadas
- üèóÔ∏è **Arquitectura Modular**: Separaci√≥n clara entre frontend y backend
- üîí **Seguridad**: Autenticaci√≥n JWT, validaci√≥n de datos, CORS configurado
- üì± **UI/UX Moderna**: Interfaz responsive con Tailwind CSS
- üöÄ **Performance**: React Query para cache y optimizaci√≥n
- üìö **Documentaci√≥n**: API documentada con Swagger
- üß™ **Testing**: Estructura preparada para testing
- üîß **DevOps**: Scripts automatizados para desarrollo y producci√≥n
- üîê **OSI**: Gesti√≥n de permisos por m√≥dulos para administradores
- üîí **Bloqueo de Cuentas**: Sistema de bloqueo autom√°tico por intentos fallidos

## üèóÔ∏è Arquitectura

### Backend (NestJS)
```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ auth/           # M√≥dulo de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ users/          # Gesti√≥n de usuarios
‚îÇ   ‚îú‚îÄ‚îÄ catalog/        # Cat√°logo de dispositivos
‚îÇ   ‚îú‚îÄ‚îÄ devices/        # Gesti√≥n de dispositivos
‚îÇ   ‚îú‚îÄ‚îÄ marketplace/    # Sistema de marketplace
‚îÇ   ‚îú‚îÄ‚îÄ repairs/        # Sistema de reparaciones
‚îÇ   ‚îú‚îÄ‚îÄ recycle/        # Sistema de reciclaje
‚îÇ   ‚îú‚îÄ‚îÄ reviews/        # Sistema de rese√±as
‚îÇ   ‚îú‚îÄ‚îÄ notifications/  # Sistema de notificaciones
‚îÇ   ‚îú‚îÄ‚îÄ quotations/     # Sistema de cotizaciones
‚îÇ   ‚îú‚îÄ‚îÄ rules/          # Reglas de evaluaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ inventory/      # Gesti√≥n de inventario
‚îÇ   ‚îú‚îÄ‚îÄ schemas/        # Modelos de MongoDB
‚îÇ   ‚îú‚îÄ‚îÄ plugins/        # Plugins personalizados
‚îÇ   ‚îî‚îÄ‚îÄ main.ts         # Punto de entrada
```

### Frontend (React + TypeScript)
```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/     # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Layout.tsx  # Layout general
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClientLayout.tsx  # Layout para clientes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminLayout.tsx   # Layout para administradores
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProtectedRoute.tsx # Rutas protegidas
‚îÇ   ‚îú‚îÄ‚îÄ pages/          # P√°ginas de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client/     # P√°ginas de cliente
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/      # P√°ginas de administrador
‚îÇ   ‚îú‚îÄ‚îÄ contexts/       # Contextos de React
‚îÇ   ‚îú‚îÄ‚îÄ services/       # Servicios de API
‚îÇ   ‚îú‚îÄ‚îÄ hooks/          # Custom hooks
‚îÇ   ‚îî‚îÄ‚îÄ types/          # Definiciones de tipos
```

## üõ†Ô∏è Tecnolog√≠as

### Backend
- **NestJS**: Framework de Node.js para aplicaciones escalables
- **MongoDB**: Base de datos NoSQL
- **Mongoose**: ODM para MongoDB
- **JWT**: Autenticaci√≥n basada en tokens
- **Swagger**: Documentaci√≥n de API
- **Class Validator**: Validaci√≥n de datos
- **Passport**: Estrategias de autenticaci√≥n
- **Bcrypt**: Encriptaci√≥n de contrase√±as

### Frontend
- **React 18**: Biblioteca de UI
- **TypeScript**: Tipado est√°tico
- **Vite**: Build tool y dev server ultrarr√°pido
- **Tailwind CSS**: Framework de CSS
- **React Query**: Gesti√≥n de estado del servidor
- **React Hook Form**: Manejo de formularios
- **React Router**: Navegaci√≥n
- **Axios**: Cliente HTTP
- **Lucide React**: Iconos
- **React Hot Toast**: Notificaciones

### Herramientas de Desarrollo
- **ESLint**: Linting de c√≥digo
- **Prettier**: Formateo de c√≥digo
- **Concurrently**: Ejecuci√≥n paralela de scripts
- **Jest**: Framework de testing
- **Vite**: Servidor de desarrollo y bundler

## üì¶ Instalaci√≥n

### Prerrequisitos
- Node.js >= 18.0.0
- npm >= 8.0.0
- MongoDB (local o Atlas)

### Instalaci√≥n R√°pida
```bash
# Clonar el repositorio
git clone <repository-url>
cd reeutil

# Instalar todas las dependencias
npm run install:all

# Configurar variables de entorno
cp backend/env.example backend/.env
cp frontend/env.example frontend/.env
# Editar backend/.env con tus configuraciones
```

### Instalaci√≥n Manual
```bash
# Instalar dependencias del proyecto principal
npm install

# Instalar dependencias del backend
cd backend
npm install

# Instalar dependencias del frontend
cd ../frontend
npm install
```

## ‚öôÔ∏è Configuraci√≥n

### Variables de Entorno (Backend)
```bash
# Copiar archivo de ejemplo
cp backend/env.example backend/.env

# Editar con tus configuraciones
# MONGODB_URI=mongodb+srv://mati:clapper123@reeutil.f0n5a.mongodb.net/reeutil
# JWT_SECRET=your-super-secret-jwt-key-here
# JWT_EXPIRES_IN=24h
# PORT=5500
# NODE_ENV=development
# CORS_ORIGIN=http://localhost:3000
```

### Variables de Entorno (Frontend)
```bash
# Copiar archivo de ejemplo
cp frontend/env.example frontend/.env.local

# Editar con tus configuraciones
# VITE_API_URL=http://localhost:5500
```

## üöÄ Uso

### Desarrollo
```bash
# Ejecutar backend y frontend en paralelo
npm run dev

# O ejecutar por separado:
npm run dev:backend    # Backend en puerto 5500
cd frontend && npm run dev  # Frontend con Vite (puerto autom√°tico)
```

### Producci√≥n
```bash
# Construir ambos proyectos
npm run build

# Ejecutar en producci√≥n
npm start
```

### Scripts Disponibles
```bash
npm run dev              # Desarrollo completo
npm run build            # Construcci√≥n completa
npm run test             # Testing completo
npm run lint             # Linting completo
npm run install:all      # Instalar todas las dependencias

# Scripts espec√≠ficos del frontend (desde frontend/)
npm run dev              # Servidor de desarrollo Vite
npm run build            # Build de producci√≥n con Vite
npm run preview          # Vista previa del build de producci√≥n
```

## üìö API Documentation

Una vez que el backend est√© ejecut√°ndose, la documentaci√≥n de la API estar√° disponible en:
- **Swagger UI**: http://localhost:5500/api
- **JSON Schema**: http://localhost:5500/api-json

### Endpoints Principales

#### Autenticaci√≥n
- `POST /auth/login` - Iniciar sesi√≥n
- `POST /auth/register` - Registro de usuario
- `POST /auth/login-attempts/increment` - Incrementar intentos fallidos
- `POST /auth/login-attempts/reset` - Resetear intentos fallidos
- `GET /auth/check-blocked/:email` - Verificar si un usuario est√° bloqueado

#### Marketplace
- `GET /marketplace/products` - Obtener productos disponibles
- `POST /marketplace/products` - Crear nuevo producto
- `PATCH /marketplace/products/:id` - Actualizar producto
- `DELETE /marketplace/products/:id` - Eliminar producto
- `POST /marketplace/purchase` - Comprar un producto
- `POST /marketplace/simulate-payment` - Simular un pago
- `GET /marketplace/my-purchases` - Obtener mis compras
- `GET /marketplace/my-sales` - Obtener mis ventas

#### Reparaciones
- `POST /repairs/request` - Solicitar reparaci√≥n
- `GET /repairs/my-requests` - Obtener mis solicitudes
- `GET /repairs/all` - Obtener todas las solicitudes (admin)
- `PATCH /repairs/:id/quote` - Actualizar cotizaci√≥n
- `PATCH /repairs/:id/status` - Actualizar estado
- `POST /repairs/:id/accept` - Aceptar cotizaci√≥n
- `POST /repairs/:id/reject` - Rechazar cotizaci√≥n

#### Reciclaje
- `POST /recycle/request` - Solicitar reciclaje
- `GET /recycle/my-requests` - Obtener mis solicitudes
- `GET /recycle/all` - Obtener todas las solicitudes (admin)
- `PATCH /recycle/:id/quote` - Actualizar cotizaci√≥n
- `PATCH /recycle/:id/status` - Actualizar estado
- `POST /recycle/:id/accept` - Aceptar oferta
- `POST /recycle/:id/reject` - Rechazar oferta

#### Rese√±as
- `POST /reviews` - Crear rese√±a
- `GET /reviews/my-reviews` - Obtener mis rese√±as
- `GET /reviews/seller/:sellerId` - Obtener rese√±as de un vendedor
- `GET /reviews/all` - Obtener todas las rese√±as (admin)
- `GET /reviews/stats` - Obtener estad√≠sticas (admin)
- `PATCH /reviews/:id` - Actualizar rese√±a
- `DELETE /reviews/:id` - Eliminar rese√±a
- `POST /reviews/:id/flag` - Reportar rese√±a (admin)

#### Notificaciones
- `GET /notifications` - Obtener notificaciones
- `PATCH /notifications/:id/read` - Marcar como le√≠da
- `PATCH /notifications/read-all` - Marcar todas como le√≠das
- `DELETE /notifications/:id` - Eliminar notificaci√≥n

## üìÅ Estructura del Proyecto Actualizada

```
reeutil/
‚îú‚îÄ‚îÄ backend/                 # Backend NestJS
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/           # Autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/          # Usuarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog/        # Cat√°logo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ devices/        # Dispositivos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ marketplace/    # Marketplace
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repairs/        # Reparaciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recycle/        # Reciclaje
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reviews/        # Rese√±as
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications/  # Notificaciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ quotations/     # Cotizaciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rules/          # Reglas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ inventory/      # Inventario
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/        # Modelos MongoDB
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plugins/        # Plugins
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ frontend/                # Frontend React
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # Componentes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/          # P√°ginas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client/     # P√°ginas de cliente
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/      # P√°ginas de administrador
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/       # Contextos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # Servicios API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/          # Tipos TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tailwind.config.js
‚îú‚îÄ‚îÄ package.json            # Configuraci√≥n principal
‚îî‚îÄ‚îÄ README.md
```

## üîÑ Nuevas Funcionalidades

### 1. Marketplace
- Compra y venta de dispositivos entre usuarios
- Sistema de comisiones por ventas
- Simulaci√≥n de pagos
- Gesti√≥n de transacciones

### 2. Reparaciones
- Solicitud de reparaci√≥n de dispositivos
- Cotizaci√≥n por t√©cnicos
- Seguimiento de estado
- Notificaciones de actualizaci√≥n

### 3. Reciclaje
- Solicitud de reciclaje con compensaci√≥n econ√≥mica
- Evaluaci√≥n de dispositivos
- Gesti√≥n de ofertas
- Proceso de pago al usuario

### 4. Rese√±as y Calificaciones
- Sistema de rese√±as para vendedores
- Calificaciones de 1 a 5 estrellas
- Moderaci√≥n de rese√±as por administradores
- Estad√≠sticas de satisfacci√≥n

### 5. Notificaciones
- Notificaciones en tiempo real
- Alertas de actualizaciones
- Gesti√≥n de lectura/no le√≠da
- Acciones r√°pidas desde notificaciones

### 6. Gesti√≥n de Permisos (OSI)
- Control granular de permisos por m√≥dulo
- Asignaci√≥n de permisos por empleado
- Roles personalizables
- Seguridad por niveles

## üîí Seguridad Mejorada

### Medidas Implementadas
- **JWT Authentication**: Tokens seguros con expiraci√≥n
- **Input Validation**: Validaci√≥n estricta de datos de entrada
- **CORS Configuration**: Configuraci√≥n segura de CORS
- **Password Hashing**: Contrase√±as hasheadas con bcrypt
- **Role-based Access**: Control de acceso basado en roles
- **Permission-based Access**: Control de acceso basado en permisos
- **Account Locking**: Bloqueo de cuentas tras intentos fallidos
- **Admin Approval**: Desbloqueo de cuentas por administradores

## üöÄ Deployment

### Backend (NestJS)
```bash
cd backend
npm run build
npm run start:prod
```

### Frontend (React)
```bash
cd frontend
npm run build
# Servir archivos est√°ticos con nginx, apache, etc.
```

## ü§ù Contribuci√≥n

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## üìù Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## üë• Equipo

- **Desarrollo**: Equipo ReeUtil
- **Arquitectura**: Sistema completo con NestJS + React
- **Dise√±o**: UI/UX moderna con Tailwind CSS

## üìû Soporte

Para soporte t√©cnico o preguntas sobre el proyecto:
- Crear un issue en el repositorio
- Contactar al equipo de desarrollo
- Revisar la documentaci√≥n de la API en `/api`

---

**ReeUtil v3.0** - Sistema de reciclaje, reparaci√≥n y marketplace moderno y escalable üöÄ